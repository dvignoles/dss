{% extends 'base.html' %}
{% load static %}

{% block title %}Profile{% endblock %}

{% block content %}
{% if user.is_authenticated and user.is_OU%}
  <div>
  <div id="pro_pic">
  	<img src="{% static 'img/' %}{{user.prof_pic_num}}.png"/>
  </div>
  <div>
  <h2 style="font-weight:bold">{{ user.username }}'s Profile Page</h2>
  <p>Interests: {{ interests }}</p>
  <p>
	  <button>
		<a href="{% url 'create' %}" style="text-decoration:none;">Create New Document</a>
	  </button>
    <button>
    <a href="{% url 'suggestTaboo' %}" style="text-decoration:none;">Suggest a Taboo Word</a>
    </button>
  </p>
  </div>
  </div>
  <div class="doc_list">
	  <h3 style="font-weight:bold; text-decoration:underline;">My Documents</h3>
    <form type="get" autocomplete="off">
      <input id="search_box" type="text" name="search_box" placeholder="Search..." />
      <button id="search_submit" type="submit">Submit</button>
    </form>
	  {% for doc in myDocs %}
      {% if doc.id in docsContainingSearchQuery %}
  	  	<p style="background-color: #5AFC3D">
  	  		<a href={% url 'view' doc_id=doc.id %} style="text-decoration:none;"">{{ doc.title }}</a>
  	  	</p>
      {% else %}
        <p>
          <a href={% url 'view' doc_id=doc.id %} style="text-decoration:none;">{{ doc.title }}</a>
        </p>
      {% endif %}
	  {% endfor %}
  </div>
  <div class="doc_list">
	  <h3 style="font-weight:bold; text-decoration:underline;">Shared Documents</h3>
	  {% for doc in sharedDocs %}
	  	<p>
	  		<a href={% url 'view' doc_id=doc.id %} style="text-decoration:none;">{{ doc.title }}</a>
	  	</p>
	  {% endfor %}
  </div>
  <div class="doc_list">
	  <h3 style="font-weight:bold; text-decoration:underline;">Public Documents</h3>
	  {% for doc in publicDocs %}
      <p>
        <a href={% url 'view' doc_id=doc.id %} style="text-decoration:none;">{{ doc.title }}</a>
      </p>
    {% endfor %}
  </div>
  <p><a href="{% url 'logout' %}">Logout</a></p>
{% else %}
  <p>You are a Guest User</p>
  {% if user.is_authenticated %}
    <p style="font-style: italic;">Ordinary User status pending...</p>
  {% else %}
    <p>
      Apply to be an Orinary User:
      <button>
        <a href="{% url 'apply' %}" style="text-decoration:none;">Apply</a>
      </button>
    </p>
  {% endif %}
  <div class="doc_list">
    <p style="font-weight:bold; text-decoration:underline;">Public Documents</p>
    {% for doc in publicDocs %}
      <p>
        <a href={% url 'view' doc_id=doc.id %} style="text-decoration:none;">{{ doc.title }}</a>
      </p>
    {% endfor %}
  </div>
  <div style="display: block;">
    <button>
      <a href="{% url 'suggestTaboo' %}" style="text-decoration:none;">Suggest a Taboo Word</a>
    </button>
    {% if user.is_authenticated %}
      <p><a href="{% url 'logout' %}">Logout</a></p>
    {% else %}
      <button>
        <a href="{% url 'login' %}" style="text-decoration:none;">Login</a>
      </button>
    {% endif %}
  </div>
{% endif %}
{% endblock %}